
.menu {
	--clip-transition-duration : 250ms;
	--clip-transition-ease     : ease-in;

	//margin-block-start         : -2px; // fixes gap between menu and navbar
	clip-path                  : inset(0 0 100% 0);
	block-size                 : var(--block-size);
	transition                 : clip-path var(--clip-transition-duration) var(--clip-transition-ease);


	@include breakpoint(max, em(725px)) {
		--clip-transition-duration : 375ms;
		--clip-transition-ease     : ease-out;
	}

	&[data-menu-open="true"] {
		clip-path  : inset(0 0 0 0);
		block-size : auto;

		@include breakpoint(max, em(725px)) {
			--clip-transition-ease : ease-in;
		}
	}

	&__grid {
		--space               : #{clamped(2.5rem, 3rem, em(725px), em(1025px))}; // props
		inline-size           : min(155rem, 85%);
		padding-block         : calc(var(--space) * 2); // props
		margin-inline-start   : auto;
		display               : grid;
		grid-template-columns : repeat(3, 1fr);
		justify-items         : start;
		row-gap               : var(--space);
		column-gap            : var(--space);

		@include breakpoint(max, em(1025px)) {
			inline-size           : 100%;
			grid-template-columns : 1fr;
		}
	}

	&__grid:where([role='list']) {
		grid-auto-flow     : column;
		grid-template-rows : 1fr 1fr 1fr;

		@include breakpoint(max, em(1025px)) {
			padding-block-start   : 14rem;
			grid-template-columns : 1fr;
			grid-auto-flow        : row;
		}
	}

	&__grid:where([role='list']) > &__item:nth-of-type(-n + 7) {
		display : none;

		@include breakpoint(max, em(1025px)) {
			position    : relative;
			display     : block;
			inline-size : 100%;
		}
	}

	&__grid:not([role='list']) > &__item + &__item {
		@include breakpoint(max, em(1025px)) {
			margin-block-start : var(--space);
		}
	}

	&__item .cluster {
		inline-size : min(30rem, 100%);
	}

	&__item .title-preferences + .cluster {
		margin-block-start : 3rem;
	}
}